# FHLCopilot

忘川风华录 自动化日常脚本

基于 [StarRailCopilot](https://github.com/LmeSzinc/StarRailCopilot/) / [AzurLaneAutoScript](https://github.com/LmeSzinc/AzurLaneAutoScript) 框架开发



![gui](doc/README.assets/gui_cn.png)


## 功能介绍

FHLC可以帮你完成以下工作：

### 每日任务：

> 桃源居处理事件，随机制作家具
> 
> 喵居吸猫、一键喂猫
> 
> 忘川速办领供台、虾球奖励，
>
> 给互动页第一个名士送礼领2碎片
> 
> 为好友赠送友情点
> 
> 收取邮箱未领取奖励
>

> **可选项：**
> 
> 将聚米画沙全部转换为百工图
> 
> 拜访他人领君子兰：给 '我的拜访' 列表前三个点赞领花
>
> 拿金戈首胜奖励
> 
> 每日签到密令：详见下方工具-每日密令
>


### 每日副本：
> 在上面的每日任务完成后，根据当前活跃度刷宝墟或镜渊补满100点活跃度
> 
> 优先级：雅社悬赏 > 宝墟 > 镜渊
> 
> **举个例子**：如果当前活跃度是65，还差35点补满，FHLC会帮你规划打4次宝墟；如果当前活跃度是59，还差41点补满，FHLC会帮你规划打4次宝墟+1次镜渊；
> 
> 如果今天的雅社悬赏要求打2次宝墟2次镜渊，差35活跃度的情况下FHLC会帮你规划打3次宝墟2次镜渊。
> 


>目前刷本会忽略`即将过期的加成`和`猫车`。
> 
>另外虽然对刷本翻车做了一定的处理但不保证完美，请保证你的队伍练度能稳过所有宝墟12层和镜渊9层，否则建议取消执行每日副本任务自己打。


### 雅社任务：
> 签到、放河灯（默认放第一个）
> 
> 识别悬赏内容, 但是只做刷宝墟和镜渊的任务，任务奖励等第二天邮件补发。
> 

> **可选项：**
> 
> 沙盘论义清小旗：仅在周四周日启动，一次刷满三天的12旗
> 
> 名士演绎刷经验：给当前演绎名士一天发4条动态，拿80经验

### 商店：
> 领每日签到礼包，领月卡
> 
> 每日购买：铜币-3普通喵偶，友情-10羁绊礼盒，喵居-碎片+喵玩具
> 
> 
> 
### 昌平文引：
> 领取每天任务经验奖励和等级奖励
> 
> 仅支持做 '知交圈点赞三次' '世界频道发言两次' 任务，勾选后启动
> 
> （↑在有昌平文引的时候才会做，不考虑当天日常有没有该任务

### 工具-金戈清符：
> 清符就是字面意义上的清符，FHLC帮你匹配进战点自动战斗等结束，如果**对金戈胜率和段位有追求就不要用**。 
> 
> 调度独立运行，在游戏里调整好配队后，点击金戈清符页面上的调度器启动即可自动运行，如果当前运行了其他调度需要点停止再重新启动。
>
> 游戏界面可以停留在主界面/金戈馆/金戈演武/配队准备界面，FHLC会自动跳转
> 
> 但是**不要已经开始匹配甚至进战了再启动调度器**

> 
> 
> 
>七段及以上支持等待到金戈开放时间再开始打，举个例子：你可以在10：45开启调度，然后离开电脑去吃饭，吃完饭回来清的基本就差不多了。
>
>支持打上九段后先去买精养喵球再接着打，来自作者曾经挂到一半成功打上九段，等挂完了只剩八段一星的亲身经历。
>
>**骁武魂设定**：会在满500之后使用一次（不论输赢），但是OCR识别这个成功率不太高，所以有时候满了也不会用。~~不过问题不大就这么放着吧~~

### 工具-每日密令：
> 独立运行，点击每日密令页面上的调度器启动即可自动运行，如果当前运行了其他调度需要点停止再重新启动。
> 
> 流程：登录PC端微信→在公众号签到获取密令→回到游戏填写密令
> 
> 微信登录签到脚本**会抢鼠标会抢鼠标会抢鼠标**
> 
> 在每日任务调度里加了自启动的选项，如果下方任务完成情况显示0/1再手动运行工具栏的这个
> 

## 安装教程

[安装教程](https://github.com/hyyisasleep/FHLCopilot/wiki/Installation) ←走这里

## 常见问题

### 用了会被封号吗
FHLC的运行基于图像识别，就像你平时打游戏一样看到某个图标出现了才会去点，不涉及任何游戏本体代码数据的修改。

不过还是那句老话用别怕怕别用。

### 一定要用模拟器吗

是的，而且未来也不会出为手机版运行的脚本。

作者只在windows10/11系统和MUMU模拟器12测试过，其他模拟器支持和折腾方法请参考[Alas设备支持文档](https://github.com/LmeSzinc/AzurLaneAutoScript/wiki/Emulator_cn)

### 我的号在渠道服怎么办

FHLC设置→模拟器设置→游戏服务器，把自动检测改成你的渠道服版本，如果渠道服版本不在列表内可以联系作者添加。


### 我想清多个账号的日常

可以，但是需要一点手动调整：

（假设你已经使用默认配置fhlc管理账号A的日常，现在你需要新增一个配置来管理账号B）

1.点击左侧`新增`键。

2.增加一个FHLC配置文件，`新的配置文件名`一栏可以改成账号B的名字以方便区分，
`从现有的配置中复制`一栏可保持默认，然后点击`添加`。

3.修改新配置选项，比如设置账号B是否使用通宝购买错过体力。

4.在游戏里切换到账号B，这时游戏会自动跳转到登陆界面，不必关闭游戏。

5.在新配置中开启调度器，让调度器自己运行账号B的日常任务。



## 未来准备开发的功能

更新任务完成情况

每日密令加进调度器

逐鹿挂机

自动躲猫猫（找猫猫和凑天命对

自动使用八宝肉

商店自定义购买，支持购买每周道具

做其他的雅社悬赏（抽卡1次，消耗100贡献，知交圈点赞等），领取每日奖励和周奖励

展示每周雅社活动（紫薇沙盘征星等

昌平文引OCR识别每日任务（但是不做




## 已知bug

（放在这意思是我知道有bug但是暂时解决不了

初始屏幕方向不对，maatouch重置方向后也识别不到图像

每日签到密令，微信在后台的时候脚本找不到

金戈界面识别待清枕戈符数不会等动画放完再进行识别




## 脚本内容相关问题


### 昌平文引每日任务为什么不做


太麻烦了还涉及到消耗敏感资源，洗猫猫词条给名士升级还有千锤百炼这种还是自己手动吧。

~~ch能不能学学隔壁崩铁减负啊~~

### 每日签到密令为什么要手动启动

微信签到部分会抢鼠标，你也不想挂机忙正事的时候电脑上突然弹出个微信窗口吧。

另外微信签到脚本是pywinauto写的（通过windows系统的UI路径找按键），完全没继承src的优秀状态循环，很脆弱

还有官方公众号偶尔也会不往签到消息里放密令，脚本目前做不到从公众号文章里找密令。

综上所述失败率很高，不要指望它能一次成功（）



### 图标用怀英喵有什么说法吗

没有，夹带私货






